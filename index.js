(function(global,factory){if(typeof define === 'function' && define.amd){define('jasonp',['exports','module'],factory);}else if(typeof exports !== 'undefined' && typeof module !== 'undefined'){factory(exports,module);}else {var mod={exports:{}};factory(mod.exports,mod);global.jasonp = mod.exports;}})(this,function(exports,module){'use strict';var TIMEOUT=10000;var g=window,d=g.document,id=0,el=function el(type){return d.createElement(type);},cache={};module.exports = function(url,cb){var fn='jsonp_' + ++id,b=d.body || el('body'),s=el('script'),cached=cache[url],timer=undefined,err=undefined;if(cached)return cb.apply(undefined,[null].concat(cached));g[fn] = function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key < _len;_key++) {args[_key] = arguments[_key];}clearTimeout(timer);if(!cb)return;cache[url] = args;cb.apply(undefined,[err].concat(args));b.removeChild(s);s = cb = g[fn] = null;delete g[fn];};timer = setTimeout(function(Î»){err = 'Timed out';g[fn]();},TIMEOUT);s.src = url.replace(/\{\{?callback\}\}?/i,fn);b.appendChild(s);};});
//# sourceMappingURL=index.js.map